<mat-toolbar color="primary" class="toolbar">
  <div class="flex items-center w-full">
    <button type="button" mat-icon-button class="menu-button mr-2 md:hidden" (click)="toggleSidenav.emit()">
      <mat-icon>menu</mat-icon>
    </button>
    <a routerLink="/" class="logo text-xl font-semibold tracking-wide text-white">Gaming Computer Parts Store</a>
    <span class="flex-1"></span>
    <nav class="hidden md:flex items-center space-x-6">
      <a mat-button routerLink="/" routerLinkActive="active">Home</a>
      <a mat-button routerLink="/catalog" routerLinkActive="active">Catalog</a>
      <a
        mat-button
        routerLink="/cart"
        routerLinkActive="active"
        [matBadge]="cartCount$ | async"
        matBadgeColor="accent"
        [matBadgeHidden]="(cartCount$ | async) === 0"
        matBadgeOverlap="false"
      >
        Cart
      </a>
      <a mat-button routerLink="/profile" *ngIf="(isLoggedIn$ | async)" routerLinkActive="active">Profile</a>
      <a mat-button routerLink="/admin" *ngIf="(roles$ | async)?.includes('ROLE_ADMIN')" routerLinkActive="active">Admin</a>
    </nav>
    <div class="hidden md:flex items-center space-x-2 ml-8">
      <ng-container *ngIf="(isLoggedIn$ | async); else loggedOut">
        <span class="text-white text-sm" *ngIf="(username$ | async) as username">Hi, {{ username }}</span>
        <button mat-stroked-button color="accent" (click)="logout()">Logout</button>
      </ng-container>
      <ng-template #loggedOut>
        <a mat-stroked-button color="accent" routerLink="/auth/login">Login</a>
      </ng-template>
    </div>
  </div>
</mat-toolbar>
